<!DOCTYPE html>
<head>
  <body>
  <title>Children Stories</title>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
  
 
  <header class="outer-container">
    <h3 class="purples">Personalised Stories</h3>
  <div class="video-container">
   <video src="static/bee.mp4" autoplay loop muted></video>
  </div>

  <div class="overlay"></div>

  <div id="content">
    
  <form action="/" method="post">
    <input type="text" name="description" placeholder="Describe a story you'd like to hear" required/>
    <input type="text" name="age" placeholder="Target Age" required/>
    <input type="text" name="characters" placeholder="Characters to include" required />
   
        <button type="submit" id="loading-btn" onclick="startLoading()">Click me!</button>
        <div id="loading-bar-container">
          <div id="loading-bar"></div>
        </div>
      
 
  </form>
  </div>
 
</header>
<script>
function startLoading() {
  var btn = document.getElementById("loading-btn");
  var barContainer = document.getElementById("loading-bar-container");
  var bar = document.getElementById("loading-bar");
  btn.disabled = true;
  btn.style.opacity = 0.5;
  barContainer.style.display = "block";
  
  // Simulate a long-running task
  var startTime = new Date().getTime();
  var interval = setInterval(function() {
    var currentTime = new Date().getTime();
    var elapsed = currentTime - startTime;
    if (elapsed >= 15000) {
      clearInterval(interval);
      btn.disabled = false;
      btn.style.opacity = 1;
      barContainer.style.display = "none";
      bar.style.width = "100%";
    } else {
      var progress = elapsed / 15000;
      bar.style.width = (progress * 100) + "%";
    }
  }, 100);
}

</script>
  
</body>

</html>

